//==================================================================
// Responsive grid
//==================================================================

$gutter: 0.01;
$padding: 24px;

%base-grid {
    float: left;
    text-align: left;
    height: 100%;
    vertical-align: top;
    margin-top: 0;
    margin-left: percentage($gutter);
    padding: 0 $padding;
}

.row {
    margin: 0 auto;
    width: 100%;
    @extend .clearfix;
    text-align: center;
    vertical-align: top;
    position: relative;
    display: block;
    @for $i from 1 through 12 {
        .grid-#{$i} {
            @extend %base-grid;
            &:first-child {
                margin-left: 0;
            }
        }
    }
    @for $i from 1 through 12 {
        .grid-#{$i} {
            @if $i == 1 {
                width: percentage(($i/12) - $gutter/1.09);
            } @else if $i == 2 {
                width: percentage(($i/12) - $gutter/1.2);
            } @else if $i == 3 {
                width: percentage(($i/12) - $gutter/1.333333333333);
            } @else if $i == 4 {
                width: percentage(($i/12) - $gutter/1.5);
            } @else if $i == 6 {
                width: percentage(($i/12) - $gutter/2);
            } @else if $i == 12 {
                width: percentage(($i/12));
            } @else {
                width: percentage(($i/12) - $gutter);
            }
        }
    }
}

@include media($md) {
    .grid-2:nth-child(3n+1),
    .grid-3:nth-child(4n+1),
    .grid-4:nth-child(3n+1) {
        margin-left: 0;
    }
}

@include media($md, max) {
    .row {
        @for $i from 1 through 12 {
            .grid-#{$i} {
                margin-left: 0;
                width: 100%;
            }
        }
        .grid-mobile-half:nth-child(2n+1),
        .grid-mobile-third:nth-child(3n+1),
        .grid-mobile-quarter:nth-child(4n+1) {
            margin-left: 0 !important;
        }
        .grid-mobile-half {
            width: percentage((1/2) - $gutter);
            margin-left: percentage($gutter*2);
        }
        .grid-mobile-third {
            width: percentage((1/3) - $gutter);
            margin-left: percentage($gutter*1.5);
        }
        .grid-mobile-quarter {
            width: percentage((1/4) - $gutter);
            margin-left: percentage($gutter*1.333333333333);
        }

    }
}

@include media($md, max) {
    .row {
        .grid-mobile-half,
        .grid-mobile-third,
        .grid-mobile-quarter {
            margin-left: 0;
            width: 100%;
        }
    }
}

.row {
    margin-left: auto;
    margin-right: auto;
    text-align: center;
}
